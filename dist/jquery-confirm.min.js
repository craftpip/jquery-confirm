"use strict";
/*!
 * jquery-confirm v1.5.1 (http://craftpip.github.io/jquery-confirm/)
 * Author: Boniface Pereira
 * Website: www.craftpip.com
 * Contact: hey@craftpip.com
 *
 * Copyright 2013-2015 jquery-confirm
 * Licensed under MIT (https://github.com/craftpip/jquery-confirm/blob/master/LICENSE)
 */
if(typeof jQuery==="undefined"){throw new Error("jquery-confirm requires jQuery")}var jconfirm,Jconfirm;(function(a){a.confirm=function(c){return jconfirm(c)};a.alert=function(c){c.cancelButton=false;return jconfirm(c)};a.dialog=function(c){c.cancelButton=false;c.confirmButton=false;return jconfirm(c)};jconfirm=function(c){if(jconfirm.defaults){a.extend(jconfirm.pluginDefaults,jconfirm.defaults)}var c=a.extend({},jconfirm.pluginDefaults,c);return new Jconfirm(c)};Jconfirm=function(c){a.extend(this,c);this._init()};Jconfirm.prototype={_init:function(){var c=this;this._rand=Math.round(Math.random()*99999);this._buildHTML();this._bindEvents();setTimeout(function(){c.open()},0)},animations:["anim-scale","anim-top","anim-bottom","anim-left","anim-right","anim-zoom","anim-opacity","anim-none","anim-rotate","anim-rotatex","anim-rotatey","anim-scalex","anim-scaley"],_buildHTML:function(){var e=this;this.animation="anim-"+this.animation.toLowerCase();if(this.animation==="none"){this.animationSpeed=0}this.$el=a(this.template).appendTo(this.container).addClass(this.theme);this.$b=this.$el.find(".jconfirm-box").css({"-webkit-transition-duration":this.animationSpeed/1000+"s","transition-duration":this.animationSpeed/1000+"s","-webkjit-transition-timing-function":"cubic-bezier(0.27, 1.12, 0.52, "+this.animationBounce+")","transition-timing-function":"cubic-bezier(0.27, 1.12, 0.52, "+this.animationBounce+")",});this.$b.addClass(this.animation);var e=this;setTimeout(function(){e.$el.find(".jconfirm-bg").animate({opacity:1},e.animationSpeed/2)},1);if(this.title){this.$el.find("div.title").html('<i class="'+this.icon+'"></i> '+this.title)}else{this.$el.find("div.title").remove()}var d=this.$el.find("div.content");var c=this.$el.find(".buttons");if(this.confirmButton&&this.confirmButton.trim()!==""){this.$confirmButton=a('<button class="btn">'+this.confirmButton+"</button>").appendTo(c);this.$confirmButton.addClass(this.confirmButtonClass)}if(this.cancelButton&&this.cancelButton.trim()!==""){this.$cancelButton=a('<button class="btn">'+this.cancelButton+"</button>").appendTo(c);this.$cancelButton.addClass(this.cancelButtonClass)}if(!this.confirmButton&&!this.cancelButton){c.remove();if(this.closeIcon){this.$closeButton=this.$b.find(".closeIcon").show()}}if(this.content.substr(0,4).toLowerCase()==="url:"){d.html("");c.find("button").attr("disabled","disabled");var f=this.content.substring(4,this.content.length);setTimeout(function(){a.get(f,function(g){d.html(g);c.find("button").removeAttr("disabled");e.contentLoaded(e.$b);e.setDialogCenter()})},1)}else{d.html(this.content)}if(this.autoClose){this._startCountDown()}},_startCountDown:function(){var c=this.autoClose.split("|");if(/cancel/.test(c[0])&&this.type==="alert"){return false}if(/confirm|cancel/.test(c[0])){this.$cd=a(' <span class="countdown"></span>').appendTo(this["$"+c[0]+"Button"]);var d=this;d.$cd.parent().click();var e=c[1]/1000;this.interval=setInterval(function(){d.$cd.html(" ["+(e-=1)+"]");if(e===0){d.$cd.parent().trigger("click");clearInterval(d.interval)}},1000)}},_bindEvents:function(){var c=this;this.$el.find(".jconfirm-bg").click(function(d){if(c.backgroundDismiss){c.cancel();c.close()}else{c.$b.addClass("hilight");setTimeout(function(){c.$b.removeClass("hilight")},400)}});if(this.$confirmButton){this.$confirmButton.click(function(d){d.preventDefault();var f=c.confirm(c.$b);if(typeof f==="undefined"||f){c.close()}})}if(this.$cancelButton){this.$cancelButton.click(function(d){d.preventDefault();var f=c.cancel(c.$b);if(typeof f==="undefined"||f){c.close()}})}if(this.$closeButton){this.$closeButton.click(function(d){d.preventDefault();c.cancel();c.close()})}if(this.keyboardEnabled){setTimeout(function(){a(window).on("keyup."+this._rand,function(d){c.reactOnKey(d)})},500)}a(window).on("resize."+this._rand,function(){c.setDialogCenter()});this.setDialogCenter()},reactOnKey:function b(d){var c=a(".jconfirm");if(c.eq(c.length-1)[0]!==this.$el[0]){return false}var f=d.which;console.log(f);if(f===27){if(!this.backgroundDismiss){this.$el.find(".jconfirm-bg").click();return false}if(this.$cancelButton){this.$cancelButton.click()}else{this.close()}}if(f===13||f==32){if(this.$confirmButton){this.$confirmButton.click()}else{}}},setDialogCenter:function(){var c=a(window).height(),d=this.$b.height(),e=(c-d)/2;this.$b.find(".content").css({"max-height":c-200+"px"});this.$b.css({"margin-top":e})},close:function(){var c=this;a(window).unbind("resize."+this._rand);if(this.keyboardEnabled){a(window).unbind("keyup."+this._rand)}this.$el.find(".jconfirm-bg").animate({opacity:0},this.animationSpeed/2);this.$b.addClass(this.animation);a("body").removeClass("jconfirm-noscroll");setTimeout(function(){c.$el.remove()},this.animationSpeed+30);jconfirm.record.closed+=1;jconfirm.record.currentlyOpen-=1},open:function(){var c=this;a("body").addClass("jconfirm-noscroll");this.$b.removeClass(this.animations.join(" "));a("body :focus").trigger("blur");jconfirm.record.opened+=1;jconfirm.record.currentlyOpen+=1}};jconfirm.pluginDefaults={template:'<div class="jconfirm"><div class="jconfirm-bg"></div><div class="container"><div class="row"><div class="col-md-6 col-md-offset-3 span6 offset3"><div class="jconfirm-box"><div class="closeIcon"><span class="glyphicon glyphicon-remove"></span></div><div class="title"></div><div class="content"></div><div class="buttons pull-right"></div><div class="jquery-clear"></div></div></div></div></div></div>',title:"Hello",content:"Are you sure to continue?",icon:"",confirmButton:"OK",cancelButton:"Cancel",confirmButtonClass:"btn-info",cancelButtonClass:"btn-default",theme:"white",animation:"scale",animationSpeed:400,animationBounce:1.5,keyboardEnabled:false,container:"body",confirm:function(){},cancel:function(){},contentLoaded:function(){},backgroundDismiss:true,autoClose:false,closeIcon:true,};jconfirm.record={opened:0,closed:0,currentlyOpen:0,}})(jQuery);
